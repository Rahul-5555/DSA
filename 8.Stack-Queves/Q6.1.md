Explanation with dry run.

ğŸ‘‰ **Remove the outermost parentheses of every primitive group**

Example:

```
Input:  "(()())(())"
Output: "()()()"
```

---

## ğŸ§  Step 1: What does "outermost" mean?

Look at this:

```
(()())
```

The **first `(`** and the **last `)`** are the outermost parentheses.

Inside them:

```
()()
```

So we remove the outside ones.

---

## ğŸ§± Step 2: What is a "primitive"?

A primitive is a valid parentheses group that cannot be split more.

Example:

```
(()())   â† one primitive
(())     â† another primitive
```

So:

```
(()())(())  
```

has **2 primitives**:

1. (()())
2. (())

We remove outer parentheses from both separately.

---

## ğŸ§© Now Let's Understand Code

```js
var removeOuterParentheses = function (s) {
  let stack = [];
  let ans = "";

  for (let i = 0; i < s.length; i++) {
```

We loop through every character.

---

### ğŸ”¹ When we see "("

```js
if (s[i] === "(") {
  stack.push(s[i]);
  ans += stack.length > 1 ? s[i] : "";
}
```

### What is happening?

1. We push `(` into stack.
2. If stack length is greater than 1 â†’ we add it to answer.
3. If stack length is 1 â†’ we DO NOT add it.

Why?

Because when stack length becomes 1,
ğŸ‘‰ it means this is the **outermost opening bracket**.

So we skip it.

---

### ğŸ”¹ When we see ")"

```js
else {
  ans += stack.length > 1 ? s[i] : "";
  stack.pop();
}
```

1. If stack length > 1 â†’ add `)` to answer.
2. Then pop from stack.

Why check before popping?

Because when stack length is 1,
ğŸ‘‰ this is the **outermost closing bracket**.

So we skip it.

---

# ğŸ” Letâ€™s Dry Run (Very Important!)

Input:

```
(()())
```

We track:

| Char | Stack Length | Add to ans?   | ans    |
| ---- | ------------ | ------------- | ------ |
| (    | 1            | âŒ (outermost) | ""     |
| (    | 2            | âœ…             | "("    |
| )    | 2            | âœ…             | "()"   |
| (    | 2            | âœ…             | "()("  |
| )    | 2            | âœ…             | "()()" |
| )    | 1            | âŒ (outermost) | "()()" |

Final:

```
()()
```

---

# ğŸ¯ Why Stack Works Here?

Stack helps us know:

* How deep we are inside parentheses.
* Depth 1 = outermost
* Depth >1 = inside

So we only add when depth > 1.

---


